<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Scooter</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- PyScript CDN -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h1>ðŸ›´ School Scooter</h1>
    <div id="game-container">
        <!-- Hallway map -->
        <div id="hallway">
            <!-- Player character -->
            <div id="player" style="left: 40px; top: 120px;"></div>
            <!-- Obstacles -->
            <div class="obstacle" style="left: 120px; top: 80px;"></div>
            <div class="obstacle" style="left: 300px; top: 180px;"></div>
            <!-- Coins -->
            <div class="coin" style="left: 200px; top: 40px;"></div>
            <div class="coin" style="left: 360px; top: 220px;"></div>
        </div>
    </div>
    let score = 0;

    // Helper: get bounding box for collision
    function getRect(el) {
        return el.getBoundingClientRect();
    }

    function checkCoinCollision() {
        const playerRect = getRect(player);
        document.querySelectorAll('.coin').forEach(coin => {
            const coinRect = getRect(coin);
            // Simple collision check
            if (
                playerRect.left < coinRect.right &&
                playerRect.right > coinRect.left &&
                playerRect.top < coinRect.bottom &&
                playerRect.bottom > coinRect.top
            ) {
                coin.style.display = 'none';
                score++;
                updateScore();
            }
        });
    }

    function updateScore() {
        document.getElementById('score').textContent = score;
    }

    <div id="instructions" style="max-width: 500px; margin: 2em auto; background: #fffbe6; border: 1px solid #ffe58f; border-radius: 8px; padding: 1em; font-size: 1.1em;">
        <h2>How to Play</h2>
        <ul>
            <li>Use <b>Arrow Keys</b> to move your scooter left, right, up, and down.</li>
            <li>Try to avoid obstacles and collect coins!</li>
            <li>More features coming soon...</li>
        </ul>
    </div>
    <div id="geek-console">
        <!-- Stuff for Geeks console placeholder -->
    </div>
    <!-- Game controls using JavaScript for reliability -->
    <script>
    // School Scooter: Common Game Controls (WASD + Arrow Keys)
    const player = document.getElementById('player');
    let pos = { x: 40, y: 120 };
    const step = 20;

    function movePlayer(e) {
        switch (e.key) {
            case 'ArrowLeft':
            case 'a':
            case 'A':
                pos.x = Math.max(0, pos.x - step);
                break;
        checkCoinCollision();
            case 'ArrowRight':
            case 'd':
            case 'D':
    <div id="scoreboard" style="max-width: 500px; margin: 2em auto; background: #e3f2fd; border: 1px solid #90caf9; border-radius: 8px; padding: 1em; font-size: 1.2em; text-align: center;">
        <strong>Score:</strong> <span id="score">0</span>
    </div>
                pos.x = Math.min(400, pos.x + step);
                break;
            case 'ArrowUp':
            case 'w':
            case 'W':
                pos.y = Math.max(0, pos.y - step);
                break;
            case 'ArrowDown':
            case 's':
            case 'S':
                pos.y = Math.min(240, pos.y + step);
                break;
        }
        player.style.left = `${pos.x}px`;
        player.style.top = `${pos.y}px`;
    }
    document.addEventListener('keydown', movePlayer);
    </script>
<!-- ...existing code... -->

print("Hello from PyScript!")
    </py-script>
</body>
</html>